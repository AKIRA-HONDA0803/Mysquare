<body class ="square-page">
<div class ="container-lg offset-lg-1">
 <div class ="row ml-lg-2">
  <div class ="nes-container is-dark with-title mb-5">
   <h3 class = "text-center"><%= @user.name %>さんのお気に入り(<%= @user.favorites.count %>)</h3>
  </div>
 </div>

 <% if @favorites.present? %>
  <div class ="col-lg-10 offset-lg-1">
   <% @favorites.includes([:square]).each do |favorite| %>
    <div class="nes-container is-dark with-title">
     <p class="title"><%= favorite.square.title %></p>
     <div class ="d-flex flex-wrap">
      <%= link_to square_path(favorite.square.id), data: {"turbolinks" => false} do %>
       <%= attachment_image_tag favorite.square, :image, size: "150x150", format: 'jpeg' %>
      <% end %>
      <div class ="col-8 offset-1">
       <%= favorite.square.description %>
      </div>
     </div>
    </div>
   <% end %>
   <div data-turbolinks="false" class="mt-3 mb-3">
   <%= paginate @favorites %>
   </div>
  </div>
 <% else %>
 <div class ="text-center text-white">
  <p>お気に入りはありません。</p>
 </div>
 <% end %>
</div>
</body>

